apiVersion: triggers.tekton.dev/v1alpha1
kind: TriggerTemplate
metadata:
  name: trigger-template-ieam-edge-pipeline
  namespace: openshift-pipelines
spec:
  params:
    - name: releaseversion
    - name: gitrepositoryurl
    - name: contenttype
    - name: action
  resourcetemplates:
    - apiVersion: tekton.dev/v1beta1
      kind: PipelineRun
      metadata:
        annotations:
          pipeline.openshift.io/started-by: 'kube:admin'
        generateName: ieam-edge-pipeline-
        labels:
          app.kubernetes.io/instance: ieam-edge-pipeline
          app.kubernetes.io/name: ieam-edge-pipeline
          operator.tekton.dev/operand-name: openshift-pipelines-addons
          pipeline.openshift.io/strategy: docker
          pipeline.openshift.io/type: kubernetes
          tekton.dev/pipeline: ieam-edge-pipeline
        namespace: images
      spec:
        params:
          - name: APP_NAME
            value: ieam-edge-app
          - name: GIT_REPO
            value: >-
              https://github.com/Client-Engineering-Industry-Squad-1/ieam-edge-cluster-demo
          - name: GIT_REVISION
            value: main
          - name: IMAGE_BASE
            value: docker.io/jennuineness/ieam-edge-app
          - name: PATH_CONTEXT
            value: .
          - name: IMAGE_VERSION
            value: $(tt.params.releaseversion)
          - name: WEBHOOK_ACTION
            value: $(tt.params.action)
        pipelineRef:
          name: ieam-edge-pipeline
        resources: []
        status: null
        workspaces:
          - name: workspace
            persistentVolumeClaim:
              claimName: pvc-b5c7693e94
          - name: credentials
            secret:
              secretName: remote-ssh-secret
